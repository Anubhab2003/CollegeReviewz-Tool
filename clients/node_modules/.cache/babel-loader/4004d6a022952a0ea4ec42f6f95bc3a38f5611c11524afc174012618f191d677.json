{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\anubh\\\\OneDrive\\\\Desktop\\\\Collegereviewz\\\\clients\\\\src\\\\pages\\\\AssessmentPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport questions from \"../data/questions\";\nimport { runAssessment } from \"../api/assessment.api\";\nimport { useNavigate } from \"react-router-dom\";\nimport ProfileForm from \"../components/ProfileForm\";\nimport { buildPayload } from \"../utils/payloadBuilder\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AssessmentPage = () => {\n  _s();\n  const navigate = useNavigate();\n  const [profileData, setProfileData] = useState({\n    age: \"\",\n    currentClass: \"\",\n    stream: \"\",\n    familyAnnualBudget: \"\",\n    educationLoanComfort: \"\",\n    coachingAffordability: false\n  });\n  const [answers, setAnswers] = useState({});\n  const handleSelect = (qid, optionIndex) => {\n    setAnswers(prev => ({\n      ...prev,\n      [qid]: optionIndex\n    }));\n  };\n  const isProfileComplete = Object.values(profileData).every(v => v !== \"\" && v !== null && v !== undefined);\n  const handleSubmit = async () => {\n    if (!isProfileComplete) {\n      alert(\"Please complete profile before assessment\");\n      return;\n    }\n    if (Object.keys(answers).length !== questions.length) {\n      alert(\"Please answer all questions\");\n      return;\n    }\n    const payload = buildPayload({\n      studentId: \"hotel-mgmt-class9-004\",\n      profileData,\n      answers\n    });\n    try {\n      const res = await runAssessment(payload);\n      navigate(\"/report\", {\n        state: res.data\n      });\n    } catch (err) {\n      var _err$response;\n      console.error(\"ASSESSMENT ERROR:\", ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.data) || err.message);\n      alert(\"Assessment failed — check console\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: 20,\n      maxWidth: 900,\n      margin: \"auto\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Career Assessment\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ProfileForm, {\n      profileData: profileData,\n      setProfileData: setProfileData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Assessment Questions\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), questions.map(q => /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: 25\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: [q.id, \". \", q.text]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 14\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }, this), q.options.map((opt, idx) => {\n        const label = typeof opt === \"string\" ? opt : opt.label;\n        return /*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            display: \"block\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"radio\",\n            name: q.id,\n            checked: answers[q.id] === idx,\n            onChange: () => handleSelect(q.id, idx)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 17\n          }, this), \" \", label]\n        }, idx, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 15\n        }, this);\n      })]\n    }, q.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleSubmit,\n      style: {\n        padding: \"12px 30px\"\n      },\n      children: \"Submit Assessment\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n};\n_s(AssessmentPage, \"w6NscXTDMUtTHnxeB9pxOhZgEXU=\", false, function () {\n  return [useNavigate];\n});\n_c = AssessmentPage;\nexport default AssessmentPage;\nvar _c;\n$RefreshReg$(_c, \"AssessmentPage\");","map":{"version":3,"names":["React","useState","questions","runAssessment","useNavigate","ProfileForm","buildPayload","jsxDEV","_jsxDEV","AssessmentPage","_s","navigate","profileData","setProfileData","age","currentClass","stream","familyAnnualBudget","educationLoanComfort","coachingAffordability","answers","setAnswers","handleSelect","qid","optionIndex","prev","isProfileComplete","Object","values","every","v","undefined","handleSubmit","alert","keys","length","payload","studentId","res","state","data","err","_err$response","console","error","response","message","style","padding","maxWidth","margin","children","fileName","_jsxFileName","lineNumber","columnNumber","map","q","marginBottom","id","text","options","opt","idx","label","display","type","name","checked","onChange","onClick","_c","$RefreshReg$"],"sources":["C:/Users/anubh/OneDrive/Desktop/Collegereviewz/clients/src/pages/AssessmentPage.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport questions from \"../data/questions\";\r\nimport { runAssessment } from \"../api/assessment.api\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport ProfileForm from \"../components/ProfileForm\";\r\nimport { buildPayload } from \"../utils/payloadBuilder\";\r\n\r\nconst AssessmentPage = () => {\r\n  const navigate = useNavigate();\r\n\r\n  const [profileData, setProfileData] = useState({\r\n    age: \"\",\r\n    currentClass: \"\",\r\n    stream: \"\",\r\n    familyAnnualBudget: \"\",\r\n    educationLoanComfort: \"\",\r\n    coachingAffordability: false\r\n  });\r\n\r\n  const [answers, setAnswers] = useState({});\r\n\r\n  const handleSelect = (qid, optionIndex) => {\r\n    setAnswers(prev => ({\r\n      ...prev,\r\n      [qid]: optionIndex\r\n    }));\r\n  };\r\n\r\n  const isProfileComplete = Object.values(profileData).every(\r\n    v => v !== \"\" && v !== null && v !== undefined\r\n  );\r\n\r\n  const handleSubmit = async () => {\r\n    if (!isProfileComplete) {\r\n      alert(\"Please complete profile before assessment\");\r\n      return;\r\n    }\r\n\r\n    if (Object.keys(answers).length !== questions.length) {\r\n      alert(\"Please answer all questions\");\r\n      return;\r\n    }\r\n\r\n    const payload = buildPayload({\r\n      studentId: \"hotel-mgmt-class9-004\",\r\n      profileData,\r\n      answers\r\n    });\r\n\r\n    try {\r\n      const res = await runAssessment(payload);\r\n      navigate(\"/report\", { state: res.data });\r\n    } catch (err) {\r\n      console.error(\"ASSESSMENT ERROR:\", err.response?.data || err.message);\r\n      alert(\"Assessment failed — check console\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ padding: 20, maxWidth: 900, margin: \"auto\" }}>\r\n      <h1>Career Assessment</h1>\r\n\r\n      <ProfileForm\r\n        profileData={profileData}\r\n        setProfileData={setProfileData}\r\n      />\r\n\r\n      <h2>Assessment Questions</h2>\r\n\r\n      {questions.map(q => (\r\n        <div key={q.id} style={{ marginBottom: 25 }}>\r\n          <p><strong>{q.id}. {q.text}</strong></p>\r\n\r\n          {q.options.map((opt, idx) => {\r\n            const label = typeof opt === \"string\" ? opt : opt.label;\r\n\r\n            return (\r\n              <label key={idx} style={{ display: \"block\" }}>\r\n                <input\r\n                  type=\"radio\"\r\n                  name={q.id}\r\n                  checked={answers[q.id] === idx}\r\n                  onChange={() => handleSelect(q.id, idx)}\r\n                />\r\n                {\" \"}{label}\r\n              </label>\r\n            );\r\n          })}\r\n        </div>\r\n      ))}\r\n\r\n      <button onClick={handleSubmit} style={{ padding: \"12px 30px\" }}>\r\n        Submit Assessment\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AssessmentPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}